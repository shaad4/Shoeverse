{% extends "base.html" %}
{% block title %}Edit Address - Shoeverse{% endblock %}

{% block content %}
<div class="flex">

    {% include "users/profile_sidebar.html" %}

    <main class="flex-1 p-10 text-white">
        <div class="max-w-3xl mx-auto">

            <h1 class="text-heading font-bold mb-6">Edit Address</h1>

            <div class="bg-[#122117]/90 backdrop-blur-sm rounded-2xl p-10 
                        shadow-[0_8px_25px_rgba(0,0,0,0.5)] border border-[#264533]">

                <form method="POST" class="space-y-6">
                    {% csrf_token %}

                    <!-- Hidden ID to keep track -->
                    <input type="hidden" name="address_id" value="{{ address.id }}">

                    <div class="grid grid-cols-2 gap-6 text-sm">

                        <!-- Full Name -->
                        <div>
                            <label class="block mb-1 font-medium">Full Name</label>
                            <input type="text" name="full_name"
                                   value="{{ address.full_name }}"
                                   class="w-full bg-[#1C3024] border border-[#366347] text-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-[#24E06B]">
                        </div>

                        <!-- Phone -->
                        <div>
                            <label class="block mb-1 font-medium">Phone Number</label>
                            <input type="text" name="phone_number"
                                   value="{{ address.phone_number }}"
                                   class="w-full bg-[#1C3024] border border-[#366347] text-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-[#24E06B]">
                        </div>

                        <!-- Email -->
                        <div>
                            <label class="block mb-1 font-medium">Email (Optional)</label>
                            <input type="email" name="email"
                                   value="{{ address.email|default:'' }}"
                                   class="w-full bg-[#1C3024] border border-[#366347] text-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-[#24E06B]">
                        </div>

                        <!-- Address Type -->
                        <div>
                            <label class="block mb-1 font-medium">Address Type</label>
                            <select name="address_type"
                                    class="w-full bg-[#1C3024] border border-[#366347] text-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-[#24E06B]">
                                <option value="home" {% if address.address_type == 'home' %}selected{% endif %}>Home</option>
                                <option value="work" {% if address.address_type == 'work' %}selected{% endif %}>Work</option>
                                <option value="other" {% if address.address_type == 'other' %}selected{% endif %}>Other</option>
                            </select>
                        </div>

                        <!-- Address Line 1 -->
                        <div class="col-span-2">
                            <label class="block mb-1 font-medium">Address Line 1</label>
                            <input type="text" name="address_line1"
                                   value="{{ address.address_line1 }}"
                                   class="w-full bg-[#1C3024] border border-[#366347] text-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-[#24E06B]">
                        </div>

                        <!-- Address Line 2 -->
                        <div class="col-span-2">
                            <label class="block mb-1 font-medium">Address Line 2 (Optional)</label>
                            <input type="text" name="address_line2"
                                   value="{{ address.address_line2|default:'' }}"
                                   class="w-full bg-[#1C3024] border border-[#366347] text-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-[#24E06B]">
                        </div>

                        <!-- City -->
                        <div>
                            <label class="block mb-1 font-medium">City</label>
                            <input type="text" name="city"
                                   value="{{ address.city }}"
                                   class="w-full bg-[#1C3024] border border-[#366347] text-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-[#24E06B]">
                        </div>

                        <!-- State -->
                        <div>
                            <label class="block mb-1 font-medium">State</label>
                            <input type="text" name="state"
                                   value="{{ address.state }}"
                                   class="w-full bg-[#1C3024] border border-[#366347] text-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-[#24E06B]">
                        </div>

                        <!-- ZIP -->
                        <div>
                            <label class="block mb-1 font-medium">ZIP / Postal Code</label>
                            <input type="text" name="pincode"
                                   value="{{ address.pincode }}"
                                   class="w-full bg-[#1C3024] border border-[#366347] text-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-[#24E06B]">
                        </div>

                    </div>

                    <!-- Buttons -->
                    <div class="flex justify-center mt-8 space-x-4">
                        <button type="submit"
                            class="bg-[#24E06B] hover:bg-[#2ECC71] text-black font-semibold 
                                   py-2 px-8 rounded-lg shadow-lg transition">
                            Update Address
                        </button>

                        <a href="{% url 'address' %}" 
                            class="py-2 px-8 border border-gray-500 rounded-lg text-gray-300 
                                   hover:bg-gray-700 transition">
                            Cancel
                        </a>
                    </div>

                </form>
            </div>

        </div>
    </main>
</div>
{% endblock %}
